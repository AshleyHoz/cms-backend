(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55a95e65"],{3534:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[a("div",{staticClass:"fl"},[t._v("管理员角色")]),a("div",{staticClass:"fr"},[a("el-button",{on:{click:t.add}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("\n\t\t\t\t添加角色\n\t\t\t")])],1),a("div",{staticClass:"clear"})]),a("div",{staticClass:"content"},[a("el-table",{staticClass:"item",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#",width:"400"}}),a("el-table-column",{attrs:{prop:"name",label:"分类",width:"400"}}),a("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.edit(e.row.id,e.row.name)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.open(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"编辑角色",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[a("el-form",{ref:"tableData",attrs:{model:t.tableData,rules:t.rules}},[a("el-form-item",{attrs:{prop:"name",label:"角色名称","label-width":"300"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.tableData.name,callback:function(e){t.$set(t.tableData,"name",e)},expression:"tableData.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},s=[],r=(a("7f7f"),a("96cf"),a("3b8d")),i=a("365c"),c={data:function(){return{tableData:[{name:""}],rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},show:!1}},created:function(){this.loadList()},methods:{loadList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["d"].list();case 2:e=t.sent,a=e.status,n=e.data,a&&(this.tableData=n,this.loading=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),open:function(t){var e=this;this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,i["d"].del({id:t});case 3:n=a.sent,s=n.status,n.msg,s&&(e.$message({type:"success",message:"删除成功!"}),e.loadList(),e.loading=!1);case 7:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},add:function(){var t=this;this.$prompt("请输入角色名称","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[\u4e00-\u9fa5_a-zA-Z]+$/,inputErrorMessage:"角色格式不正确"}).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n,s,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.value,s=n,e.next=4,i["d"].add({name:s});case 4:r=e.sent,c=r.status,r.data,c&&(t.$message({type:"success",message:"角色添加成功"}),t.loadList());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.$message({type:"info",message:"取消添加"})}))},edit:function(t,e){this.show=!0,this.tableData.name=e},submit:function(){var t=this;this.$refs.tableData.validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return e.next=3,i["d"].update({id:id,name:t.tableData.name});case 3:n=e.sent,s=n.status,r=n.msg,s?(t.tableData.name=name,t.$message({type:"success",message:"编辑成功!"}),t.loadList(),t.loading=!1,t.show=!1):t.$message.error(r),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},o=c,u=(a("eaef"),a("2877")),l=Object(u["a"])(o,n,s,!1,null,"afb8efc6",null);e["default"]=l.exports},"7f7f":function(t,e,a){var n=a("86cc").f,s=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in s||a("9e1e")&&n(s,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},c70c:function(t,e,a){},eaef:function(t,e,a){"use strict";var n=a("c70c"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-55a95e65.5713ea1b.js.map