{"version":3,"sources":["webpack:///./src/views/Role/List.vue?d2de","webpack:///src/views/Role/List.vue","webpack:///./src/views/Role/List.vue?c915","webpack:///./src/views/Role/List.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/Role/List.vue?5a21"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","add","staticStyle","attrs","tableData","scopedSlots","_u","key","fn","scope","$event","edit","row","id","name","open","show","ref","rules","model","value","callback","$$v","$set","expression","slot","submit","staticRenderFns","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"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","file":"js/chunk-55a95e65.5713ea1b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"fl\"},[_vm._v(\"管理员角色\")]),_c('div',{staticClass:\"fr\"},[_c('el-button',{on:{\"click\":_vm.add}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\"\\n\\t\\t\\t\\t添加角色\\n\\t\\t\\t\")])],1),_c('div',{staticClass:\"clear\"})]),_c('div',{staticClass:\"content\"},[_c('el-table',{staticClass:\"item\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"#\",\"width\":\"400\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"分类\",\"width\":\"400\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{on:{\"click\":function($event){return _vm.edit(scope.row.id,scope.row.name)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.open(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑角色\",\"visible\":_vm.show},on:{\"update:visible\":function($event){_vm.show=$event}}},[_c('el-form',{ref:\"tableData\",attrs:{\"model\":_vm.tableData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"角色名称\",\"label-width\":\"300\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.tableData.name),callback:function ($$v) {_vm.$set(_vm.tableData, \"name\", $$v)},expression:\"tableData.name\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"list\">\r\n\t\t<div class=\"title\">\r\n\t\t\t<div class=\"fl\">管理员角色</div>\r\n\t\t\t<div class=\"fr\">\r\n\t\t\t\t<el-button @click=\"add\">\r\n\t\t\t\t\t<i class=\"el-icon-circle-plus-outline\"></i>\r\n\t\t\t\t\t添加角色\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"clear\"></div>\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<!-- v-loading=\"loading\"  loading效果 -->\r\n\t\t\t<el-table class=\"item\" :data=\"tableData\" style=\"width: 100%\">\r\n\t\t\t\t<el-table-column prop=\"id\" label=\"#\" width=\"400\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"name\" label=\"分类\" width=\"400\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"400\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button @click=\"edit(scope.row.id,scope.row.name)\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"open(scope.row.id)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t</div>\r\n\r\n\t\t<el-dialog title=\"编辑角色\" :visible.sync=\"show\">\r\n\t\t\t<el-form :model=\"tableData\" ref=\"tableData\" :rules=\"rules\">\r\n\t\t\t\t<el-form-item prop=\"name\" label=\"角色名称\" label-width=\"300\">\r\n\t\t\t\t\t<el-input v-model=\"tableData.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"show = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { Role } from '@/api/index.js'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [{\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t}],\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入分类名称',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmin: 2,\r\n\t\t\t\t\t\t\tmax: 20,\r\n\t\t\t\t\t\t\tmessage: '长度在 2 到 20 个字符',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\tshow: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.loadList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync loadList() {\r\n\t\t\t\tlet { status, data } = await Role.list();\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tthis.tableData = data;\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topen(id) {\r\n\t\t\t\tthis.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(async () => {\r\n\t\t\t\t\tconsole.log(id);\r\n\t\t\t\t\tlet { status, msg } = await Role.del({ id: id });\r\n\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loadList();\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tadd() {\r\n\t\t\t\tthis.$prompt('请输入角色名称', '添加角色', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\tinputPattern: /^[\\u4e00-\\u9fa5_a-zA-Z]+$/,\r\n\t\t\t\t\tinputErrorMessage: '角色格式不正确'\r\n\t\t\t\t}).then(async ({ value }) => {\r\n\t\t\t\t\tlet name = value;\r\n\t\t\t\t\tlet { status, data } = await Role.add({ name: name });\r\n\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '角色添加成功'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loadList();\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '取消添加'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tedit(id, name) {\r\n\t\t\t\tthis.show = true;\r\n\t\t\t\tthis.tableData.name = name;\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.$refs.tableData.validate(async (valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet { status, msg } = await Role.update({ id: id, name: this.tableData.name });\r\n\t\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\t\tthis.tableData.name = name;\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tmessage: '编辑成功!'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.loadList();\r\n\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\tthis.show = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.list {\r\n\t\twidth: 1250px;\r\n\t\tborder: 1px solid #337ab7;\r\n\t\tborder-radius: 5px;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 16px;\r\n\t\t\twidth: 1220px;\r\n\t\t\tcolor: white;\r\n\t\t\tbackground-color: #337ab7;\r\n\t\t\tpadding: 10px 15px;\r\n\t\t}\r\n\r\n\t\t.item {\r\n\t\t\tfont-size: 16px;\r\n\t\t\tpadding: 10px 15px;\r\n\t\t}\r\n\t}\r\n\r\n\t.fl {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.fr {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.clear {\r\n\t\tclear: both;\r\n\t}\r\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=afb8efc6&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=afb8efc6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afb8efc6\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=afb8efc6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=afb8efc6&lang=scss&scoped=true&\""],"sourceRoot":""}